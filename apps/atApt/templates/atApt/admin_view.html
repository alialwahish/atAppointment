<html>

<head>
    <title>atAppointment</title>
    <script src='http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js'></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
        crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp"
        crossorigin="anonymous">
    <link rel="stylesheet" href="../static/atApt/style.css">

</head>

<body>

    <div id="index-container">

        <center>
            <h1>
                <i class="far fa-calendar-plus"></i> atAppointment</h1>
            <br>
        </center>

        <a href="/logout">Logout</a>

        <div class="main">
            <h2>Manager Dashboard</h2>
            
            {% if messages %} {% for message in messages %}
            <center>
                <p class="errors">{{message}}</p>
            </center>
            {% endfor %} {% endif %}
            <center>
                <a href="/add_staff_view">
                    <button class="btn btn-primary">Add New Staff Member</button>
                </a>
                <a href="#barbers">
                    <button class="btn btn-primary">View Staff Members</button>
                </a>
                <a href="#appts">
                    <button class="btn btn-primary">View Appointments</button>
                </a>
                <a href="#customers">
                    <button class="btn btn-primary">View Customers</button>
                </a>
            </center>
            <br>

        </div>

        <div class="main" id="barbers">
            <h2>Staff Members</h2>
            
            <table>
                <tr>
                    <th>Staff Name</th>
                    <th>Staff Email</th>
                    <th>Set Status</th>
                    <th>Update</th>
                </tr>

                {%for st in staff%}
                <tr>
                    <td>{{st.name}}</td>
                    <td>{{st.email}}</td>
                    <td>
                        <a href="/admin_view">
                            <button class="btn btn-danger">Set Inactive</button>
                        </a>
                    </td>
                    <!--If user is currently active -->
                    
                    <td><a href="/admin_view"><button class="btn btn-primary">Update</button></a></td>
                    </tr>
                    <!-- If user is currently INactive 
                        <td><a href="[[[[[[[[[[ACTIVE/INACTIVE TOGGLE ROUTE]]]]]]]]]]"><button class="btn btn-danger">Set Active</button></a></td>-->
                </tr>

                {%endfor%}
            </table>

            <br>

        </div>

        <div class="main" id="appts">
            <h2>Appointments</h2>
            <table>
                <tr>
                    <th>Customer Name</th>
                    <th>Customer Email</th>
                    <th>Staff Member Name</th>
                    <th>Date/Time</th>
                    <th>Delete</th>
                    <th>Update</th>
                </tr>

                {%for apt in appts%}

                <tr>
                    <td>{{apt.customer.name}}</td>
                    <td>{{apt.customer.email}}</td>
                    <td>{{apt.staff_user.name}}</td>
                    <td>{{apt.appointment_time}}</td>
                    <td>
                        <a href="/delete_appointment_admin/{{apt.id}}">
                            <button class="btn btn-danger">Remove</button>
                        </a>
                    </td>
                    <td><a href="/admin_view"><button class="btn btn-primary">Update</button></a></td>
                </tr>

                {%endfor%}




            </table>

            <br>

        </div>

        <div class="main" id="customers">
                <h2>Customers</h2>
                <table>
                    <tr>
                        <th>Customer Name</th>
                        <th>Customer Email</th>
                        <th>Date Of Birth</th>
                        <th>Set Status</th>

                        
                    </tr>
                {%for cust in customers%}

                    <tr>
                        <td>{{cust.name}}</td>
                        <td>{{cust.email}}</td>
                        <td>{{cust.dob}}</td>
                        
                        <!--If user is currently active -->
                        <td>
                            <a href="admin_view">
                                <button class="btn btn-danger">Set Inactive</button>
                            </a>
                        </td>
                        <!-- If user is currently INactive 
                            <td><a href="[[[[[[[[[[ACTIVE/INACTIVE TOGGLE ROUTE]]]]]]]]]]"><button class="btn btn-danger">Set Active</button></a></td>-->
                    </tr>       
                {%endfor%}
    
                </table>
    
                <br>
    
            </div>

    </div>
</body>

</html>